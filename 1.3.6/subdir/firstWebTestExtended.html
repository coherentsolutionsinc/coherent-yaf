<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Extending first web application test</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .cm {
  color: #999988;
  font-style: italic;
}
pre.rouge .cp {
  color: #999999;
  font-weight: bold;
}
pre.rouge .c1 {
  color: #999988;
  font-style: italic;
}
pre.rouge .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #999988;
  font-style: italic;
}
pre.rouge .err {
  color: #a61717;
  background-color: #e3d2d2;
}
pre.rouge .gd {
  color: #000000;
  background-color: #ffdddd;
}
pre.rouge .ge {
  color: #000000;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .gi {
  color: #000000;
  background-color: #ddffdd;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .kc {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kd {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kn {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #445588;
  font-weight: bold;
}
pre.rouge .k, pre.rouge .kv {
  color: #000000;
  font-weight: bold;
}
pre.rouge .mf {
  color: #009999;
}
pre.rouge .mh {
  color: #009999;
}
pre.rouge .il {
  color: #009999;
}
pre.rouge .mi {
  color: #009999;
}
pre.rouge .mo {
  color: #009999;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #009999;
}
pre.rouge .sa {
  color: #000000;
  font-weight: bold;
}
pre.rouge .sb {
  color: #d14;
}
pre.rouge .sc {
  color: #d14;
}
pre.rouge .sd {
  color: #d14;
}
pre.rouge .s2 {
  color: #d14;
}
pre.rouge .se {
  color: #d14;
}
pre.rouge .sh {
  color: #d14;
}
pre.rouge .si {
  color: #d14;
}
pre.rouge .sx {
  color: #d14;
}
pre.rouge .sr {
  color: #009926;
}
pre.rouge .s1 {
  color: #d14;
}
pre.rouge .ss {
  color: #990073;
}
pre.rouge .s, pre.rouge .dl {
  color: #d14;
}
pre.rouge .na {
  color: #008080;
}
pre.rouge .bp {
  color: #999999;
}
pre.rouge .nb {
  color: #0086B3;
}
pre.rouge .nc {
  color: #445588;
  font-weight: bold;
}
pre.rouge .no {
  color: #008080;
}
pre.rouge .nd {
  color: #3c5d5d;
  font-weight: bold;
}
pre.rouge .ni {
  color: #800080;
}
pre.rouge .ne {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nl {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nn {
  color: #555555;
}
pre.rouge .nt {
  color: #000080;
}
pre.rouge .vc {
  color: #008080;
}
pre.rouge .vg {
  color: #008080;
}
pre.rouge .vi {
  color: #008080;
}
pre.rouge .nv, pre.rouge .vm {
  color: #008080;
}
pre.rouge .ow {
  color: #000000;
  font-weight: bold;
}
pre.rouge .o {
  color: #000000;
  font-weight: bold;
}
pre.rouge .w {
  color: #bbbbbb;
}
pre.rouge {
  background-color: #f8f8f8;
}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#extending-first-web-application-test">Extending first web application test</a>
<ul class="sectlevel2">
<li><a href="#page_object">PageObject pattern implementation</a></li>
<li><a href="#web_component">Web Components</a></li>
<li><a href="#waiters">Waiters</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="extending-first-web-application-test">Extending first web application test</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide will help you to apply automation best practices using YAF.
This guide is recommended to use before <a href="firstWebTest.adoc">First web test</a></p>
</div>
<div class="ulist">
<div class="title">Topics covered there:</div>
<ul>
<li>
<p>PageObject pattern implementation</p>
</li>
<li>
<p><a href="#web_component">Creating and using of Web Components</a></p>
</li>
<li>
<p><a href="#waiters">Creating and using waiters</a></p>
</li>
<li>
<p>HackLoginPage</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="page_object">PageObject pattern implementation</h3>
<div class="paragraph">
<p>You would probably like to use <a href="https://medium.com/@swapnay1506/page-object-model-and-page-factory-in-selenium-738661c88857">Page Object Model and Page Factory</a> in your test automation, so the usage could look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FirstPage</span> <span class="kd">extends</span> <span class="nc">WebPage</span> <span class="o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="nd">@FindBy</span><span class="o">(</span><span class="n">css</span> <span class="o">=</span> <span class="s">".sampleClass"</span><span class="o">)</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="nc">WebElement</span> <span class="n">button</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">firstAction</span><span class="o">(){</span>
        <span class="n">button</span><span class="o">.</span><span class="na">click</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
&lt;1&gt; Mark class as Spring Component
&lt;2&gt; Extend base WebPage or any of its children
&lt;3&gt; Use PageFactory (by default) or plain PageObject approach (set yaf.driver.web.usePageFactory property to false)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>And your test will looks like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FirstTest</span> <span class="kd">extends</span> <span class="nc">YafTestNgTest</span> <span class="o">{</span>
    <span class="nc">FirstPage</span> <span class="n">firstPage</span><span class="o">;</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sampleTest</span><span class="o">(){</span>
        <span class="nc">WebDriver</span> <span class="n">driver</span> <span class="o">=</span> <span class="n">getWebDriver</span><span class="o">().</span><span class="na">getDriver</span><span class="o">();</span>
        <span class="n">driver</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"https://www.coherentsolutions.com/"</span><span class="o">);</span>
        <span class="n">firstPage</span><span class="o">.</span><span class="na">firstAction</span><span class="o">();</span>
        <span class="c1">//...</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For multiple POM&#8217;s implementation see <a href="conditions.adoc">Conditions</a></p>
</div>
</div>
<div class="sect2">
<h3 id="web_component">Web Components</h3>
<div class="paragraph">
<p>Web applications contains web elements everywhere from buttons to more complex like dropdowns or custom ones. YAF provides a set of classes to create web components classes to encapsulate and reuse your code. Below are an examples of how to create a custom WebComponent and use in tests.</p>
</div>
<div class="sect3">
<h4 id="custom-webcomponent-with-root-element">Custom WebComponent with root element</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Button</span> <span class="kd">extends</span> <span class="nc">WebComponent</span><span class="o">&lt;</span><span class="nc">WebElement</span><span class="o">&gt;</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="nd">@Setter</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="nd">@Getter</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="nd">@InheritedRoot</span>  <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="nd">@FindBy</span><span class="o">(</span><span class="n">xpath</span> <span class="o">=</span> <span class="s">"//button[@id='${buttonId}']"</span><span class="o">)</span>  <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="nc">WebElement</span> <span class="n">root</span><span class="o">;</span>

    <span class="nd">@FindBy</span><span class="o">(</span><span class="n">css</span> <span class="o">=</span> <span class="s">"label"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">WebElement</span> <span class="n">label</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">click</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">getRoot</span><span class="o">().</span><span class="na">click</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
&lt;1&gt; Every web component class inherits WebComponent or one of WebComponent&#8217;s children.&lt;2&gt; For YAF to be able to initialize component&#8217;s root element, setter is required.&lt;3&gt; Getter is required to access component&#8217;s root element.&lt;4&gt; Optional @InheritedRoot annotation is used to define that root element should be found in the context of parent component.&lt;5&gt; Optional @FindBy annotation is used to define locator for root element.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When WebComponent has <code>root</code> WebElement then all other elements defined via @FindBy will be searched in the context of that 'root' WebElement, so in the example above <code>label</code> WebElement will be searched in the context of <code>root</code> WebElement like this: root.findElement(By.cssSelector("label")) when for e.g. calling getButton().getLabel().isDisplayed().</p>
</div>
</div>
<div class="sect3">
<h4 id="custom-webcomponent-without-root-element">Custom WebComponent without root element</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RootlessButton</span> <span class="kd">extends</span> <span class="nc">WebComponent</span><span class="o">&lt;</span><span class="nc">WebElement</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">RootlessWebComponent</span><span class="o">&lt;</span><span class="nc">WebElement</span><span class="o">&gt;</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="kd">private</span> <span class="nc">YafBy</span> <span class="n">uniqueElement</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">click</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">getDriver</span><span class="o">().</span><span class="na">findElement</span><span class="o">(</span><span class="n">uniqueElement</span><span class="o">).</span><span class="na">click</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
When creating WebComponent without root element, it&#8217;s required to implement RootlessWebComponent interface and define all logic to find elements in the class.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In this case all the logic to find elements should be implemented in that WebComponent class as shown in the example above.</p>
</div>
</div>
<div class="sect3">
<h4 id="usage-of-the-new-webcomponent-in-pageobject-class">Usage of the new WebComponent in PageObject class</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FirstPage</span> <span class="kd">extends</span> <span class="nc">WebPage</span> <span class="o">{</span>

    <span class="nd">@YafSetParam</span><span class="o">(</span><span class="n">key</span> <span class="o">=</span> <span class="s">"buttonId"</span><span class="o">,</span> <span class="n">value</span> <span class="o">=</span> <span class="s">"formButton"</span><span class="o">)</span>
    <span class="nc">Button</span> <span class="n">buttonOne</span><span class="o">;</span>
    <span class="nd">@YafSetSelector</span><span class="o">(</span><span class="n">locator</span> <span class="o">=</span> <span class="s">"//button[@id='formButton']"</span><span class="o">,</span> <span class="n">type</span> <span class="o">=</span> <span class="nc">SelectorType</span><span class="o">.</span><span class="na">XPATH</span><span class="o">)</span>
    <span class="nc">Button</span> <span class="n">buttonTwo</span><span class="o">;</span>
    <span class="nd">@YafSetSelector</span><span class="o">(</span><span class="n">field</span> <span class="o">=</span> <span class="s">"uniqueElement"</span><span class="o">,</span> <span class="n">locator</span> <span class="o">=</span> <span class="s">"//button[@id='formButton']"</span><span class="o">,</span> <span class="n">type</span> <span class="o">=</span> <span class="nc">SelectorType</span><span class="o">.</span><span class="na">XPATH</span><span class="o">)</span>
    <span class="nc">RootlessButton</span> <span class="n">rootlessButton</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">firstAction</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">button</span><span class="o">.</span><span class="na">click</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>YAF comes with special annotations to work with locators such as <code>@YafSetParam</code>, <code>@FindBy</code> and <code>@YafSetSelector</code>.</p>
</div>
<div class="paragraph">
<p><code>@YafSetParam</code> is annotation used to define a parameter that will be passed to the WebComponent class and this parameter is global which mean it will replace the "${key}" placeholder specified in "key" with value from "value" in every @FindBy in WebComponent on which it&#8217;s defined.</p>
</div>
<div class="paragraph">
<p><code>@YafSetSelector</code> is annotation used to define a selector for the WebComponent when used as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@YafSetSelector(locator = "//button[@id='formButton']", type = SelectorType.XPATH)`</code> then WebElement with <code>root</code> name will have its locator updated.</p>
<div class="paragraph">
<p>There is another one alternative way to init the same component:
<code>@FindBy(xpath = "//button[@id='formButton']")</code></p>
</div>
<div class="paragraph">
<p>To easier understanding selenium <code>@FindBy</code> is highly recommended to use for root web element instead <code>@YafSetSelector</code>.</p>
</div>
</li>
<li>
<p><code>@YafSetSelector(field = "label", locator = "//button[@id='formButton']", type = SelectorType.XPATH)</code> then WebElement with <code>label</code> name will have its  locator updated</p>
</li>
<li>
<p><code>@YafSetSelector(field = "uniqueElement", locator = "//button[@id='formButton']", type = SelectorType.XPATH)</code> then uniqueElement YafBy field will be updated with the locator</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="nested-components">Nested components</h4>
<div class="paragraph">
<p>For more complex components it turns to be necessary to WebComponent(s) inside the another WebComponent. For such case by default nested element&#8217;s root will be set in the following way: first find <code>root</code> of parent WebComponent and then find child <code>root</code> element from it.</p>
</div>
<div class="paragraph">
<p>Parent component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AnotherButton</span> <span class="kd">extends</span> <span class="nc">WebComponent</span><span class="o">&lt;</span><span class="nc">WebElement</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Setter</span>
    <span class="nd">@Getter</span>
    <span class="nd">@FindBy</span><span class="o">(</span><span class="n">xpath</span> <span class="o">=</span> <span class="s">"//button"</span><span class="o">)</span>
    <span class="nc">WebElement</span> <span class="n">root</span><span class="o">;</span>

    <span class="nc">ButtonColor</span> <span class="n">buttonColor</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Child component:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ButtonColor</span> <span class="kd">extends</span> <span class="nc">WebComponent</span><span class="o">&lt;</span><span class="nc">WebElement</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Setter</span>
    <span class="nd">@Getter</span>
    <span class="nd">@FindBy</span><span class="o">(</span><span class="n">css</span> <span class="o">=</span> <span class="s">"/buttonColor"</span><span class="o">)</span>
    <span class="nc">WebElement</span> <span class="n">root</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Page object class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FirstPage</span> <span class="kd">extends</span> <span class="nc">WebPage</span> <span class="o">{</span>

    <span class="nc">AnotherButton</span> <span class="n">anotherButton</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">getButtonColor</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">anotherButton</span><span class="o">.</span><span class="na">getButtonColor</span><span class="o">().</span><span class="na">getText</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, <code>ButtonColor</code> component will have <code>root</code> element set in the following way: getDriver().findElement(By.xpath("//button")).findElement(By.cssSelector("/buttonColor")) when calling like anotherButton.getButtonColor().getText().</p>
</div>
<div class="sect4">
<h5 id="notinheritedroot-annotation">NotInheritedRoot annotation</h5>
<div class="paragraph">
<p>In case a WebCcomponent is defined inside another one but expected to be searched from the page root  NotInheritedRoot is used. The annotation could be applied to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>root element to change the default behavior on the component description level for every component usage.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ButtonColor</span> <span class="kd">extends</span> <span class="nc">WebComponent</span><span class="o">&lt;</span><span class="nc">WebElement</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Setter</span>
    <span class="nd">@Getter</span>
    <span class="nd">@NotInheritedRoot</span>
    <span class="nd">@FindBy</span><span class="o">(</span><span class="n">css</span> <span class="o">=</span> <span class="s">"/buttonColor"</span><span class="o">)</span>
    <span class="nc">WebElement</span> <span class="n">root</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>component variable definition to change the default behavior on current definition</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>@Component
public class AnotherButton extends WebComponent&lt;WebElement&gt; {

    @Setter
    @Getter
    @FindBy(xpath = "//button")
    WebElement root;

    @NotInheritedRoot
    ButtonColor buttonColor;
}</pre>
</div>
</div>
<div class="paragraph">
<p>In this case, <code>ButtonColor</code> component will have <code>root</code> element set in the following way: getDriver().findElement(By.cssSelector("/buttonColor")).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-webcomponent-without-pagefactory-mechanism">Creating WebComponent without PageFactory mechanism</h4>
<div class="paragraph">
<p>Any WebComponent that extends WebComponent&lt;T&gt; class or PageObject that extends WebPage&lt;T&gt; class have access to WebComponent builder. Below are examples for both cases.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AnotherButton</span> <span class="kd">extends</span> <span class="nc">WebComponent</span><span class="o">&lt;</span><span class="nc">WebElement</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Setter</span>
    <span class="nd">@Getter</span>
    <span class="nd">@FindBy</span><span class="o">(</span><span class="n">xpath</span> <span class="o">=</span> <span class="s">"//button"</span><span class="o">)</span>
    <span class="nc">WebElement</span> <span class="n">root</span><span class="o">;</span>

    <span class="nd">@FindBy</span><span class="o">(</span><span class="n">css</span> <span class="o">=</span> <span class="s">"#${someId}"</span><span class="o">)</span>
    <span class="nc">WebElement</span> <span class="n">someElement</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nc">ButtonColor</span> <span class="nf">getButtonColor</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">createWebComponentBuilder</span><span class="o">(</span><span class="nc">ButtonColor</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
        <span class="o">.</span><span class="na">rootElement</span><span class="o">(</span><span class="n">root</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FirstPage</span> <span class="kd">extends</span> <span class="nc">WebPage</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nc">ButtonColor</span> <span class="nf">getButtonColor</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">createWebComponentBuilder</span><span class="o">(</span><span class="nc">AnotherButton</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
        <span class="o">.</span><span class="na">rootBy</span><span class="o">(</span><span class="n">findElement</span><span class="o">(</span><span class="nc">By</span><span class="o">.</span><span class="na">xpath</span><span class="o">(</span><span class="s">"//button"</span><span class="o">)))</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>WebComponent builder allows to specify @YafSetParam and @YafSetSelector annotations for the WebComponent:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FirstPage</span> <span class="kd">extends</span> <span class="nc">WebPage</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">getAnotherButton</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">createWebComponentBuilder</span><span class="o">(</span><span class="nc">AnotherButton</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
        <span class="o">.</span><span class="na">withYafSetSelector</span><span class="o">(</span><span class="s">"root"</span><span class="o">,</span> <span class="s">"button[1]"</span><span class="o">,</span> <span class="nc">SelectorType</span><span class="o">.</span><span class="na">XPATH</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">getSomeElement</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">createWebComponentBuilder</span><span class="o">(</span><span class="nc">AnotherButton</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
        <span class="o">.</span><span class="na">withYafSetParam</span><span class="o">(</span><span class="s">"someId"</span><span class="o">,</span> <span class="s">"id1"</span><span class="o">,</span> <span class="nc">SelectorType</span><span class="o">.</span><span class="na">XPATH</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">()</span>
        <span class="o">.</span><span class="na">getSomeElement</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When using builder with <code>@YafSetSelector</code> it&#8217;s required to explicitly specify <code>root</code> element name for the WebComponent.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="waiters">Waiters</h3>
<div class="paragraph">
<p>Any action performed on application require time to get data from backend and load actual state that sometimes isn&#8217;t mentioned be human but leads to automation script failure or instability. The decision is to make the script wait for some time(Implicit waits) or condition is true (Explicit waits). See
<a href="https://www.selenium.dev/documentation/webdriver/waits/">Selenium Waiters</a> details</p>
</div>
<div class="sect3">
<h4 id="implicit-waits">Implicit waits</h4>
<div class="paragraph">
<p>Implicit waits are configured in the property file the following way. There are no default values, if any of following properties isn&#8217;t defined not timeouts is set</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">yaf.wait.implicit.timeOut</span><span class="p">=</span><span class="s">5</span>
<span class="py">yaf.wait.implicit.pageLoad</span><span class="p">=</span><span class="s">5</span>
<span class="py">yaf.wait.implicit.script</span><span class="p">=</span><span class="s">5</span></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>timeOut - corresponds to driver.manage().timeouts().implicitlyWait - Specifies the amount of time the driver should wait when searching for an element if it is not immediately present</p>
</li>
<li>
<p>pageLoad - corresponds to driver.manage().timeouts().pageLoadTimeout - Sets the amount of time to wait for a page load to complete before throwing an error</p>
</li>
<li>
<p>script - corresponds to driver.manage().timeouts().scriptTimeout - Sets the amount of time to wait for an asynchronous script to finish execution before throwing an error</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="explicit-waits">Explicit waits</h4>
<div class="paragraph">
<p>Explicit waits could be used:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>automatically on component usage using following annotations:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>WaitForAttribute</p>
</li>
<li>
<p>WaitForClickable</p>
</li>
<li>
<p>WaitForPresence</p>
</li>
<li>
<p>WaitForText</p>
</li>
<li>
<p>WaitForVisible</p>
</li>
<li>
<p>WaitFor - base Wait annotation</p>
</li>
</ol>
</div>
</li>
<li>
<p>called directly by user at any place it&#8217;s needed</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>YAF provides the most commonly used wait methods that could be find in <code>DriverWaitService</code>. Each such method accepts an WebElement(s) itself or it&#8217;s locator as a <a href="https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.html">By</a> and a <a href="../javadoc/com/coherentsolutions/yaf/web/wait/driver/WaitConsts.html">WaitConsts</a>. WaitConsts enum contains different configs that include timeout in seconds and polling period in milliseconds</p>
</div>
<div class="paragraph">
<p>WaitConsts argument is optional. If it is not provided config defined in application properties file will be used. If these properties is not defined default values are 3 seconds for timeout and 200 milliseconds for interval</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="properties"><span class="py">yaf.wait.explicit.time-out</span><span class="p">=</span><span class="s">3</span>
<span class="py">yaf.wait.explicit.intervalt</span><span class="p">=</span><span class="s">200</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>DriverWaitService</code> allow to wait until:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element is clickable/non-clickable</p>
</li>
<li>
<p>element(s) is(are) present/absent</p>
</li>
<li>
<p>element(s) is(are) visible/invisible</p>
</li>
<li>
<p>element&#8217;s attribute state equals to/contains/ not equals to/ not contains provided value</p>
</li>
<li>
<p>element&#8217;s text is equals to/contains provided value</p>
</li>
<li>
<p>element&#8217;s attribute/text/position is loaded (the value remain the same for at least two consecutive checks)</p>
</li>
<li>
<p>browser cookie is present/absent</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is an example of a usage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Chrome</span>
<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ChromeFirstPage</span> <span class="kd">extends</span> <span class="nc">BaseFirstPage</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="nc">DriverWaitService</span> <span class="n">waitService</span><span class="o">;</span>

    <span class="nd">@FindBy</span><span class="o">(</span><span class="n">id</span> <span class="o">=</span> <span class="s">"button"</span><span class="o">)</span>
    <span class="nc">Button</span> <span class="n">button</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">firstAction</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">waitService</span><span class="o">.</span><span class="na">clickable</span><span class="o">(</span><span class="n">button</span><span class="o">,</span> <span class="nc">WaitConsts</span><span class="o">.</span><span class="na">FAST</span><span class="o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="n">button</span><span class="o">.</span><span class="na">click</span><span class="o">();</span>
        <span class="n">waitService</span><span class="o">.</span><span class="na">absenceOfElementLocatedBy</span><span class="o">(</span><span class="nc">By</span><span class="o">.</span><span class="na">tagName</span><span class="o">(</span><span class="s">"form"</span><span class="o">));</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="o">}</span>

<span class="o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
&lt;1&gt; Here the script execution stops to wait button WebElement to have clickable state with particular FAST WaitConst(5 seconds timeout, 50 milliseconds polling interval). And then &lt;2&gt; to wait element not to present in DOM. In compliance with &lt;1&gt; element to wait for is represented by its locator and default timeout and polling period used
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="how-to">How to</h4>
<div class="sect4">
<h5 id="how-does-it-work">How does it work</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>DriverWaitService</code> on wait method invocation creates an appropriate Wait instance with provided parameters</p>
</li>
<li>
<p>Receives selenium WebDriverWait based on current driver and WaitConst config</p>
</li>
<li>
<p>Call wait method of instance created in step 1 with WebDriverWait created in step 2 as a method argument</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In case of annotations while field processing field marked by Wait annotation is initialized by proxy(using <a href="https://docs.spring.io/spring-framework/reference/core/aop.html">Spring AOP</a>) that will invoke steps 2(using constructor with annotations arguments) and 3 when the component will be used</p>
</div>
</div>
<div class="sect4">
<h5 id="how-to-extend">How to extend</h5>
<div class="paragraph">
<p>Highly possible you may have to create your own waiter. The base class for all waiters in YAF is <code>BaseWait</code>, so to define own waiter class it is required to extend <code>BaseWait</code> or <code>BaseWaitWithoutCustomAnnotation</code> if auto waiting support won&#8217;t be used</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Setter</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">VisibilityWait</span> <span class="kd">extends</span> <span class="nc">BaseWaitWithoutCustomAnnotation</span> <span class="o">{</span>

    <span class="kt">boolean</span> <span class="n">visible</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span> <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="kd">public</span> <span class="nf">VisibilityWait</span><span class="o">(</span><span class="nc">WebElement</span> <span class="n">element</span><span class="o">,</span> <span class="nc">WaitConsts</span><span class="o">...</span> <span class="n">waitConsts</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">element</span><span class="o">,</span> <span class="n">waitConsts</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">VisibilityWait</span><span class="o">(</span><span class="nc">By</span> <span class="n">by</span><span class="o">,</span> <span class="nc">WaitConsts</span><span class="o">...</span> <span class="n">waitConsts</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">by</span><span class="o">,</span> <span class="n">waitConsts</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
    <span class="kd">protected</span> <span class="o">&lt;</span><span class="no">R</span><span class="o">&gt;</span> <span class="no">R</span> <span class="nf">wait</span><span class="o">(</span><span class="nc">WebDriverWait</span> <span class="n">wait</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">getElements</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">getElements</span><span class="o">().</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">visible</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="o">(</span><span class="no">R</span><span class="o">)</span> <span class="n">wait</span><span class="o">.</span><span class="na">until</span><span class="o">(</span><span class="nc">CustomExpectedConditions</span><span class="o">.</span><span class="na">visibilityOfAllElementsLocatedBy</span><span class="o">(</span><span class="n">getLocators</span><span class="o">()));</span><i class="conum" data-value="4"></i><b>(4)</b>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="k">return</span> <span class="o">(</span><span class="no">R</span><span class="o">)</span> <span class="n">wait</span><span class="o">.</span><span class="na">until</span><span class="o">(</span><span class="nc">ExpectedConditions</span><span class="o">.</span><span class="na">not</span><span class="o">(</span><span class="nc">CustomExpectedConditions</span><span class="o">.</span><span class="na">visibilityOfAllElementsLocatedBy</span><span class="o">(</span><span class="n">getLocators</span><span class="o">())));</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">visible</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="o">(</span><span class="no">R</span><span class="o">)</span> <span class="n">wait</span><span class="o">.</span><span class="na">until</span><span class="o">(</span><span class="nc">ExpectedConditions</span><span class="o">.</span><span class="na">visibilityOfAllElements</span><span class="o">(</span><span class="n">getElements</span><span class="o">()));</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="k">return</span> <span class="o">(</span><span class="no">R</span><span class="o">)</span> <span class="n">wait</span><span class="o">.</span><span class="na">until</span><span class="o">(</span><span class="nc">ExpectedConditions</span><span class="o">.</span><span class="na">invisibilityOfAllElements</span><span class="o">(</span><span class="n">getElements</span><span class="o">()));</span>
            <span class="o">}</span>
        <span class="o">}</span>

    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
&lt;1&gt; Additional custom waiter specific parameter. It is better to set them via setter methods not to repeat it for each constructor
The key method here is wait method where
waiting itself happens using selenium WebDriverWait &lt;3&gt;. Until method here accepts <a href="https://www.browserstack.com/guide/expectedconditions-in-selenium">`ExpectedCondition</a> instance. One of <a href="https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html">Selemiun predifined conditions</a>, YAF CustomExpectedConditions (as in example) or your own implementation could be used
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Next step is to use just created Wait. For this purpose it is enough to extend DriverWaitService to extend its functionality and what is useful to mark it as primary bean &lt;1&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Service</span>
<span class="nd">@Primary</span><i class="conum" data-value="1"></i><b>(1)</b>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WaitService</span> <span class="kd">extends</span> <span class="nc">DriverWaitService</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">invisible</span><span class="o">(</span><span class="nc">By</span> <span class="n">locator</span><span class="o">,</span> <span class="nc">WaitConsts</span><span class="o">...</span> <span class="n">waitConsts</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">waitFor</span><span class="o">((</span><span class="k">new</span> <span class="nc">VisibilityWait</span><span class="o">(</span><span class="n">by</span><span class="o">,</span> <span class="n">waitConsts</span><span class="o">)).</span><span class="na">visible</span><span class="o">(</span><span class="kc">false</span><span class="o">));</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">invisible</span><span class="o">(</span><span class="nc">WebElement</span> <span class="n">element</span><span class="o">,</span> <span class="nc">WaitConsts</span><span class="o">...</span> <span class="n">waitConsts</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">waitFor</span><span class="o">((</span><span class="k">new</span> <span class="nc">VisibilityWait</span><span class="o">(</span><span class="n">element</span><span class="o">,</span> <span class="n">waitConsts</span><span class="o">)).</span><span class="na">visible</span><span class="o">(</span><span class="kc">false</span><span class="o">));</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">visible</span><span class="o">(</span><span class="nc">By</span> <span class="n">locator</span><span class="o">,</span> <span class="nc">WaitConsts</span><span class="o">...</span> <span class="n">waitConsts</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">waitFor</span><span class="o">((</span><span class="k">new</span> <span class="nc">VisibilityWait</span><span class="o">(</span><span class="n">locator</span><span class="o">,</span> <span class="n">waitConsts</span><span class="o">)));</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">visible</span><span class="o">(</span><span class="nc">WebElement</span> <span class="n">element</span><span class="o">,</span> <span class="nc">WaitConsts</span><span class="o">...</span> <span class="n">waitConsts</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">waitFor</span><span class="o">((</span><span class="k">new</span> <span class="nc">VisibilityWait</span><span class="o">(</span><span class="n">element</span><span class="o">,</span> <span class="n">waitConsts</span><span class="o">)));</span>
	<span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, lets extend VisibilityWait to support annotation usage
First of all, change the class extended to BaseWait&lt;1&gt;. So this step will obligate to add processCustomWaitAnnotation method implementation that should assign current Wait variables values by corresponding annotation attributes values(here, visible)&lt;2&gt;. This method is called inside BaseWait constructor that accents WaitFor and Annotation parameters. This constructor should be defined in our custom Wait as well &lt;2&gt; as YAF will search constructor with such signature to create VisibilityWait object before wait execution</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Setter</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">VisibilityWait</span> <span class="kd">extends</span> <span class="nc">BaseWait</span>  <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="kt">boolean</span> <span class="n">visible</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>

    <span class="c1">//...</span>

    <span class="kd">public</span> <span class="nf">VisibilityWait</span><span class="o">(</span><span class="nc">WaitFor</span> <span class="n">waitFor</span><span class="o">,</span> <span class="nc">Annotation</span> <span class="n">waitAnnotation</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">WebElement</span><span class="o">&gt;</span> <span class="n">elements</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="kd">super</span><span class="o">(</span><span class="n">waitFor</span><span class="o">,</span> <span class="n">waitAnnotation</span><span class="o">,</span> <span class="n">elements</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">processCustomWaitAnnotation</span><span class="o">()</span> <span class="o">{</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="k">try</span> <span class="o">{</span>
            <span class="nc">WaitForVisible</span> <span class="n">waitForVisible</span> <span class="o">=</span> <span class="o">(</span><span class="nc">WaitForVisible</span><span class="o">)</span> <span class="n">waitAnnotation</span><span class="o">;</span>
            <span class="n">visible</span> <span class="o">=</span> <span class="n">waitForVisible</span><span class="o">.</span><span class="na">visible</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">ClassCastException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// to support default behaviour for waitFor annotation</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
    <span class="kd">protected</span> <span class="o">&lt;</span><span class="no">R</span><span class="o">&gt;</span> <span class="no">R</span> <span class="nf">wait</span><span class="o">(</span><span class="nc">WebDriverWait</span> <span class="n">wait</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//...</span>

    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example there is WaitForVisible mentioned. That annotations class should be created as well with same properties as VisibilityWait have:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Retention</span><span class="o">(</span><span class="nc">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="nd">@Target</span><span class="o">({</span><span class="nc">ElementType</span><span class="o">.</span><span class="na">FIELD</span><span class="o">})</span>
<span class="nd">@WaitFor</span><span class="o">(</span><span class="n">waitClass</span> <span class="o">=</span> <span class="nc">VisibilityWait</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="nc">WaitForVisible</span> <span class="o">{</span>

    <span class="kt">boolean</span> <span class="nf">visible</span><span class="o">()</span> <span class="k">default</span> <span class="kc">true</span><span class="o">;</span>

<span class="o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
It is required to be annotated by @WaitFor annotation with a class created on previous step assigned as waitClass. Another optional WaitFor&#8217;s elements could be customized as well as waitClass was (see <a href="../javadoc/com/coherentsolutions/yaf/web/wait/driver/WaitFor.html">WaitFor</a>)
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.3.6<br>
Last updated 2025-06-02 15:48:54 UTC
</div>
</div>
</body>
</html>